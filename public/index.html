<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Hỏi Vui Đáp Nhộn</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f3e7ff;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .home-btn {
      display: inline-block;
      margin: 20px auto 10px;
      padding: 10px 20px;
      background: #7c4dff;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
    }
    .home-btn:hover {
      background: #5e35b1;
    }

    h1 {
      margin: 0 0 20px;
      font-size: 36px;
      color: #4a148c;
    }

    .game-wrapper {
      position: relative; /* để ảnh chibi bám theo */
      margin: 0 auto;
      padding: 20px 100px; /* chừa khoảng trống để không đè chữ */
      border-radius: 20px;
      background: linear-gradient(135deg,
        #ff9a9e, #fad0c4, #fad390,
        #f6d365, #fda085, #a18cd1, #fbc2eb);
      background-size: 400% 400%;
      animation: rainbow 12s ease infinite;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
      max-width: 500px;
      min-height: 300px;
    }

    @keyframes rainbow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .question {
      font-size: 35px;
      margin: 20px 0;
      font-weight: bold;
    }

    .answers button {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 12px;
      font-size: 26px;
      font-weight: bold;
      font-color: #9a00d0;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background: #fff;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: 0.3s;
    }
    .answers button:hover {
      background: #e1bee7;
    }

    .result {
      margin-top: 15px;
      font-size: 26px;
      font-weight: bold;
    }

    .side-img {
      width: 220px;
      height: auto;
      position: absolute;
      top: 50%;
      transform: translateY(-50%); /* bám giữa chiều cao wrapper */
    }
    .side-img.left { left: -180px; }
    .side-img.right { right: -180px; }
  </style>
</head>
<body>
  <a href="https://homepage-gray-omega.vercel.app/" class="home-btn">Trang chủ</a>
  <h1>Hỏi Vui Đáp Nhộn</h1>

  <div class="game-wrapper">
    <!-- Ảnh chibi trong wrapper -->
    <img src="trai.png" alt="Cô Hà trái" class="side-img left">
    
    <div class="container">
      <div id="question" class="question"></div>
      <div class="answers" id="answers"></div>
      <div id="result" class="result"></div>
      <button onclick="nextQuestion()">Câu hỏi tiếp theo</button>
    </div>
    
    <img src="phai.png" alt="Cô Hà phải" class="side-img right">
  </div>

  <script src="questions.js"></script>
  <script>
    let currentQuestion = 0;

    function loadQuestion() {
      const q = questions[currentQuestion];
      document.getElementById("question").innerText = q.q;
      const answersDiv = document.getElementById("answers");
      answersDiv.innerHTML = "";

      // Trộn thứ tự đáp án
      const indices = [0,1,2].sort(() => Math.random() - 0.5);
      indices.forEach(i => {
        const btn = document.createElement("button");
        btn.innerText = q.answers[i];
        btn.onclick = () => checkAnswer(i);
        answersDiv.appendChild(btn);
      });

      document.getElementById("result").innerText = "";
    }

    function checkAnswer(choice) {
      const q = questions[currentQuestion];
      const resultDiv = document.getElementById("result");
      if (choice === q.correct) {
        resultDiv.innerText = "✅ Chính xác! " + q.explain;
        resultDiv.style.color = "green";
      } else {
        resultDiv.innerText = "❌ Sai rồi! " + q.explain;
        resultDiv.style.color = "red";
      }
    }

    function nextQuestion() {
      currentQuestion = Math.floor(Math.random() * questions.length);
      loadQuestion();
    }

    window.onload = () => {
      nextQuestion();
    };
  </script>
</body>
</html>
